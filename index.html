<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday!</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&family=Sacramento&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f172a;
      --bg2:#0b1220;
      --accent1:#ff7aa2;
      --accent2:#ffd166;
      --glass: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;margin:0;font-family:Poppins,system-ui,Segoe UI,Roboto,Arial;overflow-x:hidden}
    body{
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;overflow:hidden;padding:20px;
      color:#f9fafb;
    }

    .card{
      width:100%;
      max-width:1000px;
      min-height:580px;
      background: rgba(255,255,255,0.02);
      border-radius:22px; padding:20px; position:relative; box-shadow: 0 10px 40px rgba(2,6,23,0.6);
      overflow:hidden; border:1px solid rgba(255,255,255,0.04);
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      text-align:center;
    }

    .top{display:flex;flex-direction:column;align-items:center;gap:16px;z-index:1;position:relative;width:100%}

    .logo{
      flex-shrink:0;
      width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:600;font-size:20px;font-family:Sacramento, cursive;color:#082033;box-shadow:0 6px 18px rgba(255,122,162,0.12), inset 0 -6px 18px rgba(0,0,0,0.12)
    }

    h1{
      margin:0;font-family:Sacramento, cursive;font-size:56px;line-height:1.1;color:#fff;text-shadow:0 3px 14px rgba(0,0,0,0.5);
      animation:pop 900ms cubic-bezier(.2,.9,.3,1) 1;
      font-weight:300;
    }
    @keyframes pop{from{transform:scale(.92) translateY(20px);opacity:0}to{transform:none;opacity:1}}

    .name{
      display:inline-block;padding:6px 14px;border-radius:16px;background:linear-gradient(90deg, rgba(255,122,162,0.25), rgba(255,209,102,0.25));backdrop-filter:blur(6px);font-weight:600;font-size:36px;color:#fff;letter-spacing:1px;animation:floaty 3.6s ease-in-out infinite;
    }

    @keyframes floaty{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}

    p.lead{margin:12px 0 0;opacity:0.85;font-size:18px;font-weight:300}

    .cake{margin:30px auto;width:200px;height:200px;position:relative;display:flex;align-items:flex-end;justify-content:center;}
    .cake .layer{width:160px;background:linear-gradient(180deg,#fff,#ffe9e9);border-radius:18px;padding:12px 18px;box-shadow:0 12px 30px rgba(0,0,0,0.35);}
    .cake .layer.btm{height:70px}
    .cake .layer.top{height:50px;margin-top:-8px;width:120px}
    .icing{position:absolute;top:50px;width:170px;height:38px;background:linear-gradient(90deg,#ff7aa2,#ffd166);border-radius:20px;z-index:2}
    .candles{position:absolute;top:10px;display:flex;gap:8px}
    .candle{width:10px;height:28px;border-radius:4px;background:linear-gradient(180deg,#fff,#f8f3f3);display:flex;align-items:flex-start;justify-content:center;padding-top:6px}
    .flame{width:10px;height:16px;border-radius:50% 50% 50% 50%/60% 60% 40% 40%;transform-origin:center bottom;animation:flicker 180ms infinite;box-shadow:0 8px 18px rgba(255,120,60,0.28);background:linear-gradient(180deg,#ffd166,#ff7a00)}
    @keyframes flicker{0%{transform:scaleY(1)}50%{transform:scaleY(0.86) translateY(-2px)}100%{transform:scaleY(1)}}

    /* Balloons improved */
    .balloon{position:absolute;width:70px;height:95px;border-radius:50% 50% 50% 50%;background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,0,120,0.8));display:flex;align-items:center;justify-content:center;z-index:3;box-shadow:inset -6px -8px 20px rgba(0,0,0,0.2)}
    .balloon::after{content:'';position:absolute;width:14px;height:14px;background:inherit;bottom:-6px;left:50%;transform:translateX(-50%) rotate(45deg);clip-path:polygon(0 0,100% 0,0 100%)}
    .string{position:absolute;width:2px;height:100px;background:rgba(255,255,255,0.5);bottom:-100px;left:50%;transform:translateX(-50%)}

    .confetti{position:absolute;inset:0;pointer-events:none;z-index:2}
    .pc{position:absolute;width:10px;height:16px;opacity:0.95;transform-origin:center;}

    .controls{position:relative;margin-top:20px;display:flex;justify-content:center;flex-wrap:wrap;gap:10px;z-index:3}
    .btn{background:var(--glass);border:1px solid rgba(255,255,255,0.1);padding:8px 14px;border-radius:10px;color:#fff;cursor:pointer;backdrop-filter:blur(4px);font-weight:300;transition:background .3s}
    .btn:hover{background:rgba(255,255,255,0.15)}

    @media (max-width:768px){
      h1{font-size:40px}
      .name{font-size:26px}
      .cake{width:160px;height:160px}
      .cake .layer{width:130px}
    }

    @media (max-width:480px){
      h1{font-size:32px}
      .name{font-size:22px;padding:4px 10px}
      p.lead{font-size:15px}
      .btn{padding:6px 10px;font-size:14px}
    }
  </style>
</head>
<body>
  <div class="card" role="main">
    <div class="top">
      <div class="logo">BD</div>
      <h1>Happy Birthday <span class="name" id="birthday-name">Alex</span>!</h1>
      <p class="lead">Wishing you a day filled with laughter, cake, balloons and amazing surprises!</p>
    </div>

    <div class="cake" aria-hidden="true">
      <div class="icing"></div>
      <div class="layer btm"></div>
      <div class="layer top"></div>
      <div class="candles" id="candles"></div>
    </div>

    <div class="confetti" id="confetti"></div>

    <div class="controls">
      <button class="btn" id="confetti-btn">üéâ Confetti</button>
      <button class="btn" id="balloon-btn">üéà Balloons</button>
      <button class="btn" id="name-edit">‚úèÔ∏è Edit Name</button>
    </div>
  </div>

  <script>
    const r = (min,max)=> Math.random()*(max-min)+min;

    function makeCandles(n=5){
      const container = document.getElementById('candles');
      container.innerHTML='';
      for(let i=0;i<n;i++){
        const c = document.createElement('div'); c.className='candle';
        const flame = document.createElement('div'); flame.className='flame';
        flame.style.animationDelay = (i*70)+'ms';
        c.appendChild(flame);
        container.appendChild(c);
      }
    }
    makeCandles(6);

    const colors = ['#ff7aa2','#ffd166','#7ae7ff','#9bff7a','#c49bff'];
    function shootConfetti(num=80){
      const wrap = document.getElementById('confetti');
      const nodes = [];
      for(let i=0;i<num;i++){
        const el = document.createElement('div');
        el.className='pc';
        el.style.left = r(0,100)+'%';
        el.style.top = r(-10,0)+'%';
        el.style.background = colors[Math.floor(r(0,colors.length))];
        el.style.width = r(6,14)+'px';
        el.style.height = r(6,20)+'px';
        wrap.appendChild(el);
        nodes.push(el);
        const drift = r(-200,200);
        const duration = r(1800,3800);
        el.animate([
          {transform:`translateY(0) rotate(0)`},
          {transform:`translate(${drift}px,${window.innerHeight+200}px) rotate(${r(90,720)}deg)`}
        ],{duration:duration, easing:'cubic-bezier(.2,.7,.2,1)'});
        setTimeout(()=>el.remove(), duration+500);
      }
    }
    document.getElementById('confetti-btn').addEventListener('click',()=>shootConfetti(100));

    function spawnBalloons(n=6){
      const wrap = document.querySelector('.card');
      for(let i=0;i<n;i++){
        const b = document.createElement('div'); b.className='balloon';
        const hue = Math.floor(r(0,360));
        b.style.background = `radial-gradient(circle at 30% 30%, #fff, hsl(${hue},80%,60%))`;
        b.style.left = r(5,85)+'%'; b.style.bottom = '-120px';
        wrap.appendChild(b);
        const s = document.createElement('div'); s.className='string'; b.appendChild(s);
        const dur = r(5000,10000);
        b.animate([
          {transform:'translateY(0)'},
          {transform:`translateY(-1200px)`}
        ],{duration:dur, easing:'linear'});
        setTimeout(()=>b.remove(), dur+200);
      }
    }
    document.getElementById('balloon-btn').addEventListener('click',()=>spawnBalloons(6));

    document.getElementById('name-edit').addEventListener('click',()=>{
      const el = document.getElementById('birthday-name');
      const current = el.textContent || 'Alex';
      const name = prompt('Enter the name to show on the screen:', current) || current;
      el.textContent = name;
      const letters = Math.max(2, Math.min(12, name.length));
      makeCandles(letters);
    });

    setTimeout(()=>shootConfetti(40), 800);
  </script>
</body>
</html>
